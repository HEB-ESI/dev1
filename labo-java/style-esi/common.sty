%=====================================================================
%	common.sty
%
%	Macro style qui charge tout ce qui est commun 
%	à tout type de document.
%=====================================================================

\RequirePackage{style-esi/french}
\RequirePackage{style-esi/color}
\RequirePackage{style-esi/box}

% --- Utilise le logo qui doit se trouver dans le même dossier.
% --- style-esi/logo.png (ou une autre extension)

% --- Pas d'indentation en début de paragraphe 
% --- mais un peu d'espace vertical entre les paragraphes
% --- TODO : 
% --- L'enlever pour laisser le choix à tous de l'utiliser ou pas
\RequirePackage{parskip}

% ====================================================================
% 	\creditimage{largeur}{image}{url_crédit}
%---------------------------------------------------------------------
%	Affiche une image centrée avec un crédit en bas à droite.
%	Le crédit est une url qui apparait comme "crédit image".
%	Il faut spécifier la largeur de l'image.
% ====================================================================

\newcommand{\creditimage}[3]{
	\begin{center}
	\begin{minipage}{#1}
		\includegraphics[width=\textwidth]{#2}
		\vskip-\baselineskip\vskip-1mm\flushright\credit{#3}
	\end{minipage}
	\end{center}
}

% --- \credit{url}
% --- affiche un cadre avec hyperlien.
% --- texte="crédit image", url donnée
\newcommand{\credit}[1]{%
	\colbox[][size=tight,fontupper=\tiny,opacityfill=.6]%
		{\href{#1}{crédit image}}%
}

